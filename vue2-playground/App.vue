<script lang="ts" setup>
import { reactive, ref } from 'vue-demi'

const form = reactive({
  oldString: '#\n version 7.1.070, Release 6343P08\n#\n sysname JR-RZQ2-GJKXCTCGD-S5130-03\n#\n clock timezone Beijing add 08:00:00\n#\n telnet server enable\n#\n irf mac-address persistent timer\n irf auto-update enable\n undo irf link-delay\n irf member 1 priority 1\n#\n dot1x\n dot1x authentication-method eap\n#\n lldp compliance cdp\n lldp global enable\n#\n password-recovery enable\n#\nvlan 1\n#\nvlan 10\n#\nvlan 42 to 43\n#\nvlan 50\n#\nvlan 52\n#\nvlan 54\n#\nvlan 57\n#\nvlan 59\n#\n stp mode pvst\n stp pathcost-standard dot1t\n stp global enable\n#\ninterface NULL0\n#\ninterface Vlan-interface1\n ip address 10.99.51.59 255.255.255.128\n#\ninterface GigabitEthernet1/0/1\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n lldp compliance admin-status cdp txrx\n#\ninterface GigabitEthernet1/0/2\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n lldp compliance admin-status cdp txrx\n#\ninterface GigabitEthernet1/0/3\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/4\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/5\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/6\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/7\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/8\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/9\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/10\n port link-type trunk\n port trunk permit vlan all\n stp edged-port\n lldp compliance admin-status cdp txrx\n#\ninterface GigabitEthernet1/0/11\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/12\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/13\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/14\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/15\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/16\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/17\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/18\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/19\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/20\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/21\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/22\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/23\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/24\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/25\n port link-type trunk\n port trunk permit vlan all\n lldp compliance admin-status cdp txrx\n#\ninterface GigabitEthernet1/0/26\n port link-type trunk\n port trunk permit vlan all\n lldp compliance admin-status cdp txrx\n#\ninterface GigabitEthernet1/0/27\n port link-type trunk\n port trunk permit vlan all\n lldp compliance admin-status cdp txrx\n#\ninterface GigabitEthernet1/0/28\n port link-type trunk\n port trunk permit vlan all\n lldp compliance admin-status cdp txrx\n#\n scheduler logfile size 16\n#\nline class aux\n user-role network-admin\n#\nline class vty\n user-role network-operator\n#\nline aux 0\n authentication-mode scheme\n user-role network-admin\n#\nline vty 0 4\n authentication-mode scheme\n user-role network-admin\n user-role network-operator\n#\nline vty 5 63\n user-role network-operator\n#\n ip route-static 0.0.0.0 0 10.99.51.1\n#\n info-center loghost source Vlan-interface1\n info-center loghost 10.99.160.43\n info-center loghost 10.99.216.202\n info-center loghost 10.188.19.194\n#\n snmp-agent\n snmp-agent local-engineid 800063A280AC740990441B00000001\n snmp-agent community read cisco123\n snmp-agent sys-info version all \n#\n ifmonitor crc-error slot 1 high-threshold 1000 low-threshold 100 interval 30\n ifmonitor input-error slot 1 high-threshold 1000 low-threshold 100 interval 30\n ifmonitor output-error slot 1 high-threshold 1000 low-threshold 100 interval 30\n#\n ssh server enable\n#\n ntp-service enable\n ntp-service unicast-server 10.188.16.101\n#\nradius scheme aaa\n primary authentication 10.88.250.11 key cipher $c$3$W7oDYMVFPBizP6DxRSSTnJgmfgxQrjkwFw==\n secondary authentication 10.88.250.12 key cipher $c$3$LxXs0oaYAOibpziuPCnw57r27CmZQDyLtA==\n#\nradius scheme system\n user-name-format without-domain\n#\ndomain system\n authentication login local\n authorization login local\n authentication default radius-scheme aaa\n authorization default radius-scheme aaa\n#\n domain default enable system\n#\nrole name level-0\n description Predefined level-0 role\n#\nrole name level-1\n description Predefined level-1 role\n#\nrole name level-2\n description Predefined level-2 role\n#\nrole name level-3\n description Predefined level-3 role\n#\nrole name level-4\n description Predefined level-4 role\n#\nrole name level-5\n description Predefined level-5 role\n#\nrole name level-6\n description Predefined level-6 role\n#\nrole name level-7\n description Predefined level-7 role\n#\nrole name level-8\n description Predefined level-8 role\n#\nrole name level-9\n description Predefined level-9 role\n#\nrole name level-10\n description Predefined level-10 role\n#\nrole name level-11\n description Predefined level-11 role\n#\nrole name level-12\n description Predefined level-12 role\n#\nrole name level-13\n description Predefined level-13 role\n#\nrole name level-14\n description Predefined level-14 role\n#\nuser-group system\n#\nlocal-user admin class manage\n password hash $h$6$/C7/3fVpcHEVVXlC$ot47SNj6EplhG+ROKe4RC9Kh4sgrgSyaATnc6Nh5OyyKdb5Ay9o1QqpFqBjAWGPASkof6g1sS7SngbaApmqTnQ==\n service-type telnet http ssh terminal\n authorization-attribute user-role network-admin\n authorization-attribute user-role network-operator\n#\n ip http enable\n ip https enable\n#\nreturn\n',
  // newString: '#\n version 7.1.071, Release 6343P08\n#\n sysname JR-RZQ2-GJKXCTCGD-S5130-03\n#\n clock timezone Beijing add 08:00:00\n#\n telnet server enable\n#\n irf mac-address persistent timer\n irf auto-update enable\n undo irf link-delay\n irf member 1 priority 1\n#\n dot1x\n dot1x authentication-method eap\n#\n lldp compliance cdp\n lldp global enable\n#\n password-recovery enable\n#\nvlan 1\n#\nvlan 10\n#\nvlan 42 to 43\n#\nvlan 50\n#\nvlan 52\n#\nvlan 54\n#\nvlan 57\n#\nvlan 59\n#\n stp mode pvst\n stp pathcost-standard dot1t\n stp global enable\n#\ninterface NULL0\n#\ninterface Vlan-interface1\n ip address 10.99.51.59 255.255.255.128\n#\ninterface GigabitEthernet1/0/1\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n lldp compliance admin-status cdp txrx\n#\ninterface GigabitEthernet1/0/2\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n lldp compliance admin-status cdp txrx\n#\ninterface GigabitEthernet1/0/3\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/4\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/5\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/6\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/7\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/8\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/9\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/10\n port link-type trunk\n port trunk permit vlan all\n stp edged-port\n lldp compliance admin-status cdp txrx\n#\ninterface GigabitEthernet1/0/11\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/12\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/13\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/14\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/15\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/16\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/17\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/18\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/19\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/20\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/21\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/22\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/23\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/24\n port access vlan 52\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n#\ninterface GigabitEthernet1/0/25\n port link-type trunk\n port trunk permit vlan all\n lldp compliance admin-status cdp txrx\n#\ninterface GigabitEthernet1/0/26\n port link-type trunk\n port trunk permit vlan all\n lldp compliance admin-status cdp txrx\n#\ninterface GigabitEthernet1/0/27\n port link-type trunk\n port trunk permit vlan all\n lldp compliance admin-status cdp txrx\n#\ninterface GigabitEthernet1/0/28\n port link-type trunk\n port trunk permit vlan all\n lldp compliance admin-status cdp txrx\n#\n scheduler logfile size 16\n#\nline class aux\n user-role network-admin\n#\nline class vty\n user-role network-operator\n#\nline aux 0\n authentication-mode scheme\n user-role network-admin\n#\nline vty 0 4\n authentication-mode scheme\n user-role network-admin\n user-role network-operator\n#\nline vty 5 63\n user-role network-operator\n#\n ip route-static 0.0.0.0 0 10.99.51.1\n#\n info-center loghost source Vlan-interface1\n info-center loghost 10.99.160.43\n info-center loghost 10.99.216.202\n info-center loghost 10.188.19.194\n#\n snmp-agent\n snmp-agent local-engineid 800063A280AC740990441B00000001\n snmp-agent community read cisco123\n snmp-agent sys-info version all \n#\n ifmonitor crc-error slot 1 high-threshold 1000 low-threshold 100 interval 30\n ifmonitor input-error slot 1 high-threshold 1000 low-threshold 100 interval 30\n ifmonitor output-error slot 1 high-threshold 1000 low-threshold 100 interval 30\n#\n ssh server enable\n#\n ntp-service enable\n ntp-service unicast-server 10.188.16.101\n#\nradius scheme aaa\n primary authentication 10.88.250.11 key cipher $c$3$W7oDYMVFPBizP6DxRSSTnJgmfgxQrjkwFw==\n secondary authentication 10.88.250.12 key cipher $c$3$LxXs0oaYAOibpziuPCnw57r27CmZQDyLtA==\n#\nradius scheme system\n user-name-format without-domain\n#\ndomain system\n authentication login local\n authorization login local\n authentication default radius-scheme aaa\n authorization default radius-scheme aaa\n#\n domain default enable system\n#\nrole name level-0\n description Predefined level-0 role\n#\nrole name level-1\n description Predefined level-1 role\n#\nrole name level-2\n description Predefined level-2 role\n#\nrole name level-3\n description Predefined level-3 role\n#\nrole name level-4\n description Predefined level-4 role\n#\nrole name level-5\n description Predefined level-5 role\n#\nrole name level-6\n description Predefined level-6 role\n#\nrole name level-7\n description Predefined level-7 role\n#\nrole name level-8\n description Predefined level-8 role\n#\nrole name level-9\n description Predefined level-9 role\n#\nrole name level-10\n description Predefined level-10 role\n#\nrole name level-11\n description Predefined level-11 role\n#\nrole name level-12\n description Predefined level-12 role\n#\nrole name level-13\n description Predefined level-13 role\n#\nrole name level-14\n description Predefined level-14 role\n#\nuser-group system\n#\nlocal-user admin class manage\n password hash $h$6$/C7/3fVpcHEVVXlC$ot47SNj6EplhG+ROKe4RC9Kh4sgrgSyaATnc6Nh5OyyKdb5Ay9o1QqpFqBjAWGPASkof6g1sS7SngbaApmqTnQ==\n service-type telnet http ssh terminal\n authorization-attribute user-role network-admin\n authorization-attribute user-role network-operator\n#\n ip http enable\n ip https enable\n#\nreturn\n',
  newString: '#\n version 7.1.070, Release 6343P08\n#\n sysname JR-4300-CR5-S5130-01\n#\n clock timezone Beijing add 08:00:00\n#\n irf mac-address persistent timer\n irf auto-update enable\n undo irf link-delay\n irf member 1 priority 1\n#\n dot1x\n dot1x authentication-method eap\n#\n mac-address notification mac-move\n#\n lldp compliance cdp\n lldp global enable\n#\n password-recovery enable\n#\nvlan 1\n#\nvlan 12\n#\n stp mode pvst\n stp bpdu-protection\n stp pathcost-standard dot1t\n stp global enable\n#\ninterface Bridge-Aggregation1\n port link-type trunk\n port trunk permit vlan all\n link-aggregation mode dynamic\n#\ninterface NULL0\n#\ninterface Vlan-interface1\n ip address 10.89.10.73 255.255.255.0\n dhcp client identifier ascii 7449d299f6d2-VLAN0001\n#\ninterface GigabitEthernet1/0/1\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/2\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/3\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/4\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/5\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/6\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/7\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/8\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/9\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/10\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/11\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/12\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/13\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/14\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/15\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/16\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/17\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/18\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/19\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/20\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/21\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/22\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/23\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/24\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/25\n port link-type trunk\n port trunk permit vlan all\n lldp compliance admin-status cdp txrx\n port link-aggregation group 1\n#\ninterface GigabitEthernet1/0/26\n port link-type trunk\n port trunk permit vlan all\n lldp compliance admin-status cdp txrx\n port link-aggregation group 1\n#\ninterface GigabitEthernet1/0/27\n port link-type trunk\n port trunk permit vlan all\n lldp compliance admin-status cdp txrx\n#\ninterface GigabitEthernet1/0/28\n port link-type trunk\n port trunk permit vlan all\n lldp compliance admin-status cdp txrx\n#\n scheduler logfile size 16\n#\nline class aux\n user-role network-admin\n#\nline class vty\n user-role network-operator\n#\nline aux 0\n user-role network-admin\n#\nline vty 0 4\n authentication-mode scheme\n user-role network-operator\n#\nline vty 5 63\n user-role network-operator\n#\n ip route-static 0.0.0.0 0 10.89.10.1\n#\n info-center loghost source Vlan-interface1\n info-center loghost 10.88.245.31\n info-center loghost 10.99.160.43\n info-center loghost 10.99.216.202\n info-center loghost 10.188.19.194\n#\n snmp-agent\n snmp-agent local-engineid 800063A280AC7409FAEABD00000001\n snmp-agent community write cisco123\n snmp-agent sys-info version all \n snmp-agent target-host trap address udp-domain 10.188.19.194 params securityname cisco123 v2c\n#\n ifmonitor crc-error slot 1 high-threshold 1000 low-threshold 100 interval 30\n ifmonitor input-error slot 1 high-threshold 1000 low-threshold 100 interval 30\n ifmonitor output-error slot 1 high-threshold 1000 low-threshold 100 interval 30\n#\n ssh server enable\n#\n ntp-service enable\n ntp-service unicast-server 10.188.16.101\n#\nradius scheme aaa\n primary authentication 10.88.250.11 key cipher $c$3$trlI9U9Fz1xwETmbsWVLtVDTwtY9cKzO9w==\n secondary authentication 10.88.250.12 key cipher $c$3$H3nJVbdzZesByOleYToP8/JptJ2815pWng==\n#\nradius scheme system\n user-name-format without-domain\n#\ndomain system\n authentication login local\n authorization login local\n authentication default radius-scheme aaa\n authorization default radius-scheme aaa\n#\n domain default enable system\n#\nrole name level-0\n description Predefined level-0 role\n#\nrole name level-1\n description Predefined level-1 role\n#\nrole name level-2\n description Predefined level-2 role\n#\nrole name level-3\n description Predefined level-3 role\n#\nrole name level-4\n description Predefined level-4 role\n#\nrole name level-5\n description Predefined level-5 role\n#\nrole name level-6\n description Predefined level-6 role\n#\nrole name level-7\n description Predefined level-7 role\n#\nrole name level-8\n description Predefined level-8 role\n#\nrole name level-9\n description Predefined level-9 role\n#\nrole name level-10\n description Predefined level-10 role\n#\nrole name level-11\n description Predefined level-11 role\n#\nrole name level-12\n description Predefined level-12 role\n#\nrole name level-13\n description Predefined level-13 role\n#\nrole name level-14\n description Predefined level-14 role\n#\nuser-group system\n#\nlocal-user admin class manage\n password hash $h$6$GNr8ydnrBrwWviX4$ZXJRlHwb6nfjhkYHR+95BeaTb8NjYoF7xa+M2o+dIOqaPdgNMOtama1wfyI1aOV4XAjPWVgbNBPxytdDiCVUEQ==\n service-type telnet ssh\n authorization-attribute user-role network-admin\n authorization-attribute user-role network-operator\n#\nreturn\n',
  // oldString: '\n!\n! Last configuration change at 01:43:40 UTC Sat Oct 7 2023 by admin\n!\nversion 16.6\nno service pad\nservice timestamps debug datetime msec\nservice timestamps log datetime msec\nno platform punt-keepalive disable-kernel-core\n!\nhostname JR-1580BGL-C3650-03\n!\n!\nvrf definition Mgmt-vrf\n !\n address-family ipv4\n exit-address-family\n !\n address-family ipv6\n exit-address-family\n!\nenable password JHJ41!646d@696e#\n!\naaa new-model\n!\n!\naaa group server radius dot1x-auth\n server name radius01\n server name radius02\n!\naaa authentication dot1x default group dot1x-auth\n!\n!\n!\n!\n!\n!\naaa session-id common\nswitch 1 provision ws-c3650-48ts\n!\n!\n!\n!\nip routing\n!\n!\n!\n!\nlogin on-failure log\nno login on-success log\n!\n!\n!\n!\n!\n!\ncrypto pki trustpoint TP-self-signed-3068519147\n enrollment selfsigned\n subject-name cn=IOS-Self-Signed-Certificate-3068519147\n revocation-check none\n rsakeypair TP-self-signed-3068519147\n!\n!\ncrypto pki certificate chain TP-self-signed-3068519147\n!\ndot1x system-auth-control\ndot1x logging verbose\ndot1x auth-fail eapol\ndot1x critical eapol\n!\n!\ndiagnostic bootup level minimal\n!\nspanning-tree mode pvst\nspanning-tree portfast default\nspanning-tree portfast bpduguard default\nspanning-tree extend system-id\nerrdisable recovery cause bpduguard\n!\nusername cisco password 0 cisco\nusername admin password 0 JHJ41!646d@696e#\n!\nredundancy\n mode sso\n!\n!\ntransceiver type all\n monitoring\n!\n!\nclass-map match-any system-cpp-police-topology-control\n  description Topology control\nclass-map match-any system-cpp-police-sw-forward\n  description Sw forwarding, L2 LVX data, LOGGING\nclass-map match-any system-cpp-default\n  description DHCP Snooping, EWLC control, EWCL data \nclass-map match-any system-cpp-police-sys-data\n  description Learning cache ovfl, Crypto Control, Exception, EGR Exception, NFL SAMPLED DATA, RPF Failed\nclass-map match-any system-cpp-police-punt-webauth\n  description Punt Webauth\nclass-map match-any system-cpp-police-l2lvx-control\n  description L2 LVX control packets\nclass-map match-any system-cpp-police-forus\n  description Forus Address resolution and Forus traffic\nclass-map match-any system-cpp-police-multicast-end-station\n  description MCAST END STATION\nclass-map match-any system-cpp-police-multicast\n  description Transit Traffic and MCAST Data\nclass-map match-any system-cpp-police-l2-control\n  description L2 control\nclass-map match-any system-cpp-police-dot1x-auth\n  description DOT1X Auth\nclass-map match-any system-cpp-police-data\n  description ICMP redirect, ICMP_GEN and BROADCAST\nclass-map match-any system-cpp-police-stackwise-virt-control\n  description Stackwise Virtual\nclass-map match-any non-client-nrt-class\nclass-map match-any system-cpp-police-routing-control\n  description Routing control\nclass-map match-any system-cpp-police-protocol-snooping\n  description Protocol snooping\nclass-map match-any system-cpp-police-system-critical\n  description System Critical and Gold\n!\npolicy-map system-cpp-policy\n!\n! \n!\n!\n!\n!\n!\n!\n!\n!\n!\n!\n!\n!\ninterface GigabitEthernet0/0\n vrf forwarding Mgmt-vrf\n no ip address\n shutdown\n negotiation auto\n!\ninterface GigabitEthernet1/0/1\n switchport mode trunk\n!\ninterface GigabitEthernet1/0/2\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/3\n switchport mode trunk\n!\ninterface GigabitEthernet1/0/4\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n authentication port-control auto\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/5\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n authentication port-control auto\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/6\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n authentication port-control auto\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/7\n switchport access vlan 11\n switchport mode access\n!\ninterface GigabitEthernet1/0/8\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n authentication port-control auto\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/9\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/10\n switchport mode trunk\n!\ninterface GigabitEthernet1/0/11\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n authentication port-control auto\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/12\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/13\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/14\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n authentication port-control auto\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/15\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n authentication port-control auto\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/16\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n authentication port-control auto\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/17\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n authentication port-control auto\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/18\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n authentication port-control auto\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/19\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n authentication port-control auto\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/20\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n authentication port-control auto\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/21\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n authentication port-control auto\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/22\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/23\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n authentication port-control auto\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/24\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/25\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n authentication port-control auto\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/26\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/27\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n authentication port-control auto\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/28\n switchport mode trunk\n!\ninterface GigabitEthernet1/0/29\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n authentication port-control auto\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/30\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n authentication port-control auto\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/31\n switchport access vlan 11\n switchport mode access\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/32\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n authentication port-control auto\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/33\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/34\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n authentication port-control auto\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/35\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n authentication port-control auto\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/36\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n authentication port-control auto\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/37\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n authentication port-control auto\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/38\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/39\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n authentication port-control auto\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/40\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n authentication port-control auto\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/41\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/42\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n authentication port-control auto\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/43\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/44\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/45\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n authentication port-control auto\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/46\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n authentication port-control auto\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/47\n switchport access vlan 11\n switchport mode access\n authentication host-mode multi-host\n authentication port-control auto\n dot1x pae authenticator\n storm-control broadcast level 85.00\n storm-control multicast level 85.00\n storm-control action shutdown\n spanning-tree portfast\n!\ninterface GigabitEthernet1/0/48\n switchport access vlan 11\n switchport mode access\n spanning-tree bpduguard disable\n!\ninterface GigabitEthernet1/1/1\n switchport mode trunk\n!\ninterface GigabitEthernet1/1/2\n switchport mode trunk\n!\ninterface GigabitEthernet1/1/3\n switchport mode trunk\n!\ninterface GigabitEthernet1/1/4\n switchport mode trunk\n!\ninterface Vlan1\n ip address 10.99.201.200 255.255.255.0\n!\ninterface Vlan11\n no ip address\n!\nip forward-protocol nd\nip http server\nip http authentication local\nip http secure-server\nip route 0.0.0.0 0.0.0.0 10.99.201.1\n!\n!\nip radius source-interface Vlan1 \nlogging trap warnings\nlogging source-interface Vlan1\nlogging host 10.88.254.87\nlogging host 10.88.245.31\n!\n!\nsnmp-server community cisco123 RO\nsnmp-server community sgjt RW\nsnmp-server host 10.99.216.202 cisco123 \nsnmp-server host 10.88.254.83 sgjt \nsnmp-server host 10.88.254.87 sgjt \n!\n!\nradius server radius01\n address ipv4 10.88.250.11 auth-port 1812 acct-port 1813\n key aaazte\n!\nradius server radius02\n address ipv4 10.88.250.12 auth-port 1812 acct-port 1813\n key aaazte\n!\n!\ncontrol-plane\n service-policy input system-cpp-policy\n!\n!\nline con 0\n stopbits 1\nline aux 0\n stopbits 1\nline vty 0 4\n password cisco\nline vty 5 15\n!\n!\n!\n!\n!\n!\n!\nend\n',
  // newString: '#\n version 7.1.070, Release 6343P08\n#\n sysname JR-4300-CR5-S5130-01\n#\n clock timezone Beijing add 08:00:00\n#\n irf mac-address persistent timer\n irf auto-update enable\n undo irf link-delay\n irf member 1 priority 1\n#\n dot1x\n dot1x authentication-method eap\n#\n mac-address notification mac-move\n#\n lldp compliance cdp\n lldp global enable\n#\n password-recovery enable\n#\nvlan 1\n#\nvlan 12\n#\n stp mode pvst\n stp bpdu-protection\n stp pathcost-standard dot1t\n stp global enable\n#\ninterface Bridge-Aggregation1\n port link-type trunk\n port trunk permit vlan all\n link-aggregation mode dynamic\n#\ninterface NULL0\n#\ninterface Vlan-interface1\n ip address 10.89.10.73 255.255.255.0\n dhcp client identifier ascii 7449d299f6d2-VLAN0001\n#\ninterface GigabitEthernet1/0/1\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/2\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/3\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/4\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/5\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/6\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/7\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/8\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/9\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/10\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/11\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/12\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/13\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/14\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/15\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/16\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/17\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/18\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/19\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/20\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/21\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/22\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/23\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/24\n port access vlan 12\n broadcast-suppression 5\n multicast-suppression 5\n stp edged-port\n dot1x\n#\ninterface GigabitEthernet1/0/25\n port link-type trunk\n port trunk permit vlan all\n lldp compliance admin-status cdp txrx\n port link-aggregation group 1\n#\ninterface GigabitEthernet1/0/26\n port link-type trunk\n port trunk permit vlan all\n lldp compliance admin-status cdp txrx\n port link-aggregation group 1\n#\ninterface GigabitEthernet1/0/27\n port link-type trunk\n port trunk permit vlan all\n lldp compliance admin-status cdp txrx\n#\ninterface GigabitEthernet1/0/28\n port link-type trunk\n port trunk permit vlan all\n lldp compliance admin-status cdp txrx\n#\n scheduler logfile size 16\n#\nline class aux\n user-role network-admin\n#\nline class vty\n user-role network-operator\n#\nline aux 0\n user-role network-admin\n#\nline vty 0 4\n authentication-mode scheme\n user-role network-operator\n#\nline vty 5 63\n user-role network-operator\n#\n ip route-static 0.0.0.0 0 10.89.10.1\n#\n info-center loghost source Vlan-interface1\n info-center loghost 10.88.245.31\n info-center loghost 10.99.160.43\n info-center loghost 10.99.216.202\n info-center loghost 10.188.19.194\n#\n snmp-agent\n snmp-agent local-engineid 800063A280AC7409FAEABD00000001\n snmp-agent community write cisco123\n snmp-agent sys-info version all \n snmp-agent target-host trap address udp-domain 10.188.19.194 params securityname cisco123 v2c\n#\n ifmonitor crc-error slot 1 high-threshold 1000 low-threshold 100 interval 30\n ifmonitor input-error slot 1 high-threshold 1000 low-threshold 100 interval 30\n ifmonitor output-error slot 1 high-threshold 1000 low-threshold 100 interval 30\n#\n ssh server enable\n#\n ntp-service enable\n ntp-service unicast-server 10.188.16.101\n#\nradius scheme aaa\n primary authentication 10.88.250.11 key cipher $c$3$trlI9U9Fz1xwETmbsWVLtVDTwtY9cKzO9w==\n secondary authentication 10.88.250.12 key cipher $c$3$H3nJVbdzZesByOleYToP8/JptJ2815pWng==\n#\nradius scheme system\n user-name-format without-domain\n#\ndomain system\n authentication login local\n authorization login local\n authentication default radius-scheme aaa\n authorization default radius-scheme aaa\n#\n domain default enable system\n#\nrole name level-0\n description Predefined level-0 role\n#\nrole name level-1\n description Predefined level-1 role\n#\nrole name level-2\n description Predefined level-2 role\n#\nrole name level-3\n description Predefined level-3 role\n#\nrole name level-4\n description Predefined level-4 role\n#\nrole name level-5\n description Predefined level-5 role\n#\nrole name level-6\n description Predefined level-6 role\n#\nrole name level-7\n description Predefined level-7 role\n#\nrole name level-8\n description Predefined level-8 role\n#\nrole name level-9\n description Predefined level-9 role\n#\nrole name level-10\n description Predefined level-10 role\n#\nrole name level-11\n description Predefined level-11 role\n#\nrole name level-12\n description Predefined level-12 role\n#\nrole name level-13\n description Predefined level-13 role\n#\nrole name level-14\n description Predefined level-14 role\n#\nuser-group system\n#\nlocal-user admin class manage\n password hash $h$6$GNr8ydnrBrwWviX4$ZXJRlHwb6nfjhkYHR+95BeaTb8NjYoF7xa+M2o+dIOqaPdgNMOtama1wfyI1aOV4XAjPWVgbNBPxytdDiCVUEQ==\n service-type telnet ssh\n authorization-attribute user-role network-admin\n authorization-attribute user-role network-operator\n#\nreturn\n',
  // oldString: 'aaa\nccc\nddd1\n',
  // newString: 'aaa\nbbb\nccc2\n',
  language: 'plaintext',
  diffStyle: 'word',
  ignoreMatchingLines: 'version',
})

const changeStatistic = ref({
  equalCont: 0,
  onlyCont: 0,
  changeCont: 0,
  ignoreCont: 0
})

const diffChange = ref<Array<number>>([])

function diffed(e: any) {
  diffChange.value = e.diffChange
  changeStatistic.value = e.stat
  curChange.value = -1
  console.log('diffed', e)
  console.log('len--', form.newString.split('\n').length)
}

const diffViewer = ref<Element | null>(null)

const curChange = ref<number>(-1)

function prevChange() {
  if (curChange.value > 0) {
    curChange.value--
    diffViewer.value?.jumpToChange(diffChange.value[curChange.value])
  }
}

function nextChange() {
  if (curChange.value < diffChange.value.length - 1) {
    curChange.value++
    diffViewer.value?.jumpToChange(diffChange.value[curChange.value])
  }
}

const contextNum = ref<number>(1000)

function changeDisplay() {
  if (contextNum.value) {
    contextNum.value = 0
  } else {
    contextNum.value = 1000
  }
}

</script>

<template>
  <div>
    <!-- <p align="center">
      Vue version: {{ version }}
    </p> -->
    <textarea v-model="form.oldString" style="width: 40vw" :rows="20" />
    <textarea v-model="form.newString" style="width: 40vw; margin-left: 20px" :rows="20" />
    <CodeDiff
      ref="diffViewer"
      :old-string="form.oldString"
      :new-string="form.newString"
      :language="form.language"
      :diff-style="form.diffStyle"
      :ignore-matching-lines="form.ignoreMatchingLines"
      :hide-header="true"
      :context="contextNum"
      :noDiffLineFeed="true"
      :trim="false"
      theme="light"
      max-height="400px"
      output-format="side-by-side"
      @diff="diffed"
    />
    <div class="statistic">
      <p>相同的行：{{ changeStatistic.equalCont }}</p>
      <p>变化的行：{{ changeStatistic.changeCont }}</p>
      <p>唯一的行：{{ changeStatistic.onlyCont }}</p>
      <!-- <p>忽略的行：{{ changeStatistic.ignoreCont }}</p> -->
    </div>
    <div class="btn">
      <button :disabled="!contextNum || curChange <= 0" @click="prevChange">PREV</button>
      <button :disabled="!contextNum || curChange >= diffChange.length - 1" @click="nextChange">NEXT</button>
    </div>
    <div class="btn">
      <button :disabled="!(changeStatistic.changeCont || changeStatistic.onlyCont)" @click="changeDisplay">CHANGE</button>
    </div>
  </div>
</template>

<style>
body > div {
  font-family: Avenir, Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-align: center;
  color: #2c3e50;
}
.statistic {
  font-size: 14px;
  display: flex;
  text-align: left;
}
.statistic > p {
  margin-right: 20px;
}
.btn {
  display: flex;
  margin-bottom: 10px;
}
.btn > button {
  margin-right: 20px;
}
</style>
